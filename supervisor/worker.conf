# SendWalk Worker Manager Supervisor Configuration
# 复制到: /etc/supervisor/conf.d/sendwalk-worker-manager.conf

[program:sendwalk-worker-manager]
process_name=%(program_name)s
command=/usr/bin/php /data/www/sendwalk/backend/artisan queue:manage-workers --min=1 --max=4 --check-interval=10 --scale-up-threshold=50 --scale-down-threshold=10
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
user=www-data
numprocs=1
redirect_stderr=true
stdout_logfile=/data/www/sendwalk/backend/storage/logs/manager.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=5
stopwaitsecs=3600
startsecs=0

