# SendWalk 生产环境部署完整指南

## 📋 目录

1. [服务器要求](#服务器要求)
2. [部署前准备](#部署前准备)
3. [步骤1：服务器环境配置](#步骤1服务器环境配置)
4. [步骤2：部署代码](#步骤2部署代码)
5. [步骤3：配置后端](#步骤3配置后端)
6. [步骤4：配置前端](#步骤4配置前端)
7. [步骤5：配置 Nginx](#步骤5配置-nginx)
8. [步骤6：配置 Supervisor](#步骤6配置-supervisor)
9. [步骤7：SSL 证书](#步骤7ssl-证书)
10. [步骤8：验证部署](#步骤8验证部署)
11. [故障排查](#故障排查)

---

## 服务器要求

### **最低配置**

| 项目 | 要求 |
|------|------|
| 操作系统 | Ubuntu 20.04+ / CentOS 8+ |
| CPU | 2 核心 |
| 内存 | 4GB |
| 硬盘 | 40GB SSD |
| 带宽 | 5Mbps |

### **推荐配置**

| 项目 | 推荐 |
|------|------|
| 操作系统 | Ubuntu 22.04 LTS |
| CPU | 4 核心 |
| 内存 | 8GB |
| 硬盘 | 100GB SSD |
| 带宽 | 10Mbps+ |

### **软件版本**

- PHP 8.3+
- MySQL 8.0+
- Node.js 20+
- Nginx 1.18+
- Redis 7+
- Supervisor 4.0+
- ImageMagick 7+ (用于 favicon 生成)

---

## 部署前准备

### 1. **域名和 DNS**

准备以下域名：

```
主域名:     sendwalk.com
前端:       www.sendwalk.com
后端 API:   api.sendwalk.com
```

配置 DNS A 记录指向服务器 IP。

### 2. **数据库准备**

```sql
-- 创建数据库
CREATE DATABASE sendwalk CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 创建数据库用户
CREATE USER 'sendwalk'@'localhost' IDENTIFIED BY 'your_secure_password';
GRANT ALL PRIVILEGES ON sendwalk.* TO 'sendwalk'@'localhost';
FLUSH PRIVILEGES;
```

### 3. **SSH 密钥**

```bash
# 本地生成 SSH 密钥（如果还没有）
ssh-keygen -t ed25519 -C "your_email@example.com"

# 复制公钥到服务器
ssh-copy-id root@your_server_ip
```

---

## 步骤1：服务器环境配置

### **一键安装脚本**

创建 `setup-server.sh`：

```bash
#!/bin/bash

set -e

echo "======================================"
echo "  SendWalk 服务器环境配置"
echo "======================================"
echo ""

# 更新系统
echo "1. 更新系统..."
apt update && apt upgrade -y

# 安装基础工具
echo "2. 安装基础工具..."
apt install -y git curl wget vim unzip software-properties-common

# 安装 PHP 8.3
echo "3. 安装 PHP 8.3..."
add-apt-repository ppa:ondrej/php -y
apt update
apt install -y php8.3 php8.3-fpm php8.3-cli php8.3-mysql php8.3-redis \
    php8.3-mbstring php8.3-xml php8.3-curl php8.3-zip php8.3-gd \
    php8.3-bcmath php8.3-intl php8.3-soap php8.3-pcntl

# 配置 PHP
sed -i 's/memory_limit = 128M/memory_limit = 512M/' /etc/php/8.3/fpm/php.ini
sed -i 's/upload_max_filesize = 2M/upload_max_filesize = 100M/' /etc/php/8.3/fpm/php.ini
sed -i 's/post_max_size = 8M/post_max_size = 100M/' /etc/php/8.3/fpm/php.ini
sed -i 's/max_execution_time = 30/max_execution_time = 300/' /etc/php/8.3/fpm/php.ini

systemctl restart php8.3-fpm

# 安装 Composer
echo "4. 安装 Composer..."
curl -sS https://getcomposer.org/installer | php
mv composer.phar /usr/local/bin/composer
chmod +x /usr/local/bin/composer

# 安装 MySQL
echo "5. 安装 MySQL..."
apt install -y mysql-server
systemctl enable mysql
systemctl start mysql

# 安装 Redis
echo "6. 安装 Redis..."
apt install -y redis-server
systemctl enable redis-server
systemctl start redis-server

# 安装 Nginx
echo "7. 安装 Nginx..."
apt install -y nginx
systemctl enable nginx
systemctl start nginx

# 安装 Node.js 20
echo "8. 安装 Node.js..."
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
apt install -y nodejs

# 安装 PM2（可选，用于 Node.js 进程管理）
npm install -g pm2

# 安装 Supervisor
echo "9. 安装 Supervisor..."
apt install -y supervisor
systemctl enable supervisor
systemctl start supervisor

# 安装 ImageMagick
echo "10. 安装 ImageMagick..."
apt install -y imagemagick

# 安装 Certbot (SSL)
echo "11. 安装 Certbot..."
apt install -y certbot python3-certbot-nginx

# 配置防火墙
echo "12. 配置防火墙..."
ufw allow 22/tcp
ufw allow 80/tcp
ufw allow 443/tcp
ufw --force enable

# 创建应用目录
echo "13. 创建应用目录..."
mkdir -p /var/www/sendwalk
chown -R www-data:www-data /var/www/sendwalk

echo ""
echo "======================================"
echo "  ✅ 服务器环境配置完成！"
echo "======================================"
echo ""
echo "下一步：部署应用代码"
```

### **执行安装**

```bash
# 上传脚本到服务器
scp setup-server.sh root@your_server_ip:/root/

# SSH 登录服务器
ssh root@your_server_ip

# 执行脚本
chmod +x setup-server.sh
./setup-server.sh
```

---

## 步骤2：部署代码

### **方法 1：使用 Git（推荐）**

```bash
# 切换到 www-data 用户
su - www-data -s /bin/bash

# 克隆代码
cd /var/www
git clone https://github.com/your-username/sendwalk.git
cd sendwalk

# 切换到生产分支（如果有）
git checkout main
```

### **方法 2：使用 rsync**

```bash
# 从本地上传代码（在本地执行）
rsync -avz --exclude='node_modules' --exclude='vendor' \
    --exclude='.git' --exclude='*.log' \
    /path/to/local/sendwalk/ \
    root@your_server_ip:/var/www/sendwalk/
```

### **设置权限**

```bash
# 设置所有者
chown -R www-data:www-data /var/www/sendwalk

# 设置目录权限
find /var/www/sendwalk -type d -exec chmod 755 {} \;
find /var/www/sendwalk -type f -exec chmod 644 {} \;

# 设置可执行权限
chmod +x /var/www/sendwalk/backend/*.sh
chmod +x /var/www/sendwalk/frontend/*.sh
```

---

## 步骤3：配置后端

### **1. 安装依赖**

```bash
cd /var/www/sendwalk/backend

# 安装 PHP 依赖（生产环境优化）
composer install --optimize-autoloader --no-dev

# 如果出现内存不足，临时增加内存限制
# COMPOSER_MEMORY_LIMIT=-1 composer install --optimize-autoloader --no-dev
```

### **2. 配置环境变量**

```bash
# 复制配置文件
cp .env.example .env

# 编辑配置文件
nano .env
```

**生产环境 `.env` 配置示例**：

```bash
APP_NAME=SendWalk
APP_ENV=production
APP_KEY=  # 将由 php artisan key:generate 生成
APP_DEBUG=false
APP_URL=https://www.sendwalk.com
APP_TIMEZONE=Asia/Shanghai

LOG_CHANNEL=daily
LOG_LEVEL=warning
LOG_DAILY_DAYS=30

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=sendwalk
DB_USERNAME=sendwalk
DB_PASSWORD=your_secure_password

BROADCAST_DRIVER=log
CACHE_DRIVER=redis
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database
SESSION_DRIVER=redis
SESSION_LIFETIME=120

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# 邮件配置（用于系统通知）
MAIL_MAILER=smtp
MAIL_HOST=smtp.your-domain.com
MAIL_PORT=587
MAIL_USERNAME=noreply@sendwalk.com
MAIL_PASSWORD=your_mail_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@sendwalk.com
MAIL_FROM_NAME="${APP_NAME}"

# AWS SES (如果使用)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1

# 前端 URL
FRONTEND_URL=https://www.sendwalk.com

# CORS 配置
SANCTUM_STATEFUL_DOMAINS=www.sendwalk.com
SESSION_DOMAIN=.sendwalk.com

# 其他
BCRYPT_ROUNDS=12
```

### **3. 生成密钥和运行迁移**

```bash
# 生成应用密钥
php artisan key:generate

# 运行数据库迁移
php artisan migrate --force

# 可选：添加初始数据
# php artisan db:seed --force

# 创建存储链接
php artisan storage:link
```

### **4. 优化性能**

```bash
# 缓存配置
php artisan config:cache

# 缓存路由
php artisan route:cache

# 缓存视图
php artisan view:cache

# 优化 Composer 自动加载
composer dump-autoload --optimize
```

### **5. 设置存储权限**

```bash
# 设置 storage 和 bootstrap/cache 权限
chown -R www-data:www-data storage bootstrap/cache
chmod -R 775 storage bootstrap/cache

# 创建日志目录
mkdir -p storage/logs
chown -R www-data:www-data storage/logs
chmod -R 775 storage/logs
```

---

## 步骤4：配置前端

### **1. 安装依赖和构建**

```bash
cd /var/www/sendwalk/frontend

# 安装依赖
npm install

# 配置环境变量
cp .env.example .env
nano .env
```

**前端 `.env` 配置**：

```bash
VITE_API_URL=https://api.sendwalk.com
VITE_APP_NAME=SendWalk
```

```bash
# 构建生产版本
npm run build

# 构建完成后，dist 目录包含所有静态文件
ls -lh dist/
```

### **2. 部署静态文件**

```bash
# 方法 1：直接使用 dist 目录（推荐）
# Nginx 配置指向 /var/www/sendwalk/frontend/dist

# 方法 2：复制到独立目录
mkdir -p /var/www/html/sendwalk
cp -r dist/* /var/www/html/sendwalk/
chown -R www-data:www-data /var/www/html/sendwalk
```

---

## 步骤5：配置 Nginx

### **1. 创建后端 API 配置**

```bash
nano /etc/nginx/sites-available/sendwalk-api
```

```nginx
server {
    listen 80;
    server_name api.sendwalk.com;
    root /var/www/sendwalk/backend/public;

    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";
    add_header X-XSS-Protection "1; mode=block";

    index index.php;
    charset utf-8;

    # 增加请求体大小限制（用于文件上传）
    client_max_body_size 100M;

    # 访问日志
    access_log /var/log/nginx/sendwalk-api-access.log;
    error_log /var/log/nginx/sendwalk-api-error.log;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.3-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
        fastcgi_hide_header X-Powered-By;
        
        # 增加超时时间
        fastcgi_read_timeout 300;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }
}
```

### **2. 创建前端配置**

```bash
nano /etc/nginx/sites-available/sendwalk-frontend
```

```nginx
server {
    listen 80;
    server_name www.sendwalk.com sendwalk.com;
    root /var/www/sendwalk/frontend/dist;

    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";
    add_header X-XSS-Protection "1; mode=block";

    index index.html;
    charset utf-8;

    # 访问日志
    access_log /var/log/nginx/sendwalk-frontend-access.log;
    error_log /var/www/sendwalk/frontend-error.log;

    # Gzip 压缩
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript 
               application/x-javascript application/xml+rss 
               application/javascript application/json image/svg+xml;

    # 静态文件缓存
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # SPA 路由支持
    location / {
        try_files $uri $uri/ /index.html;
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }
}

# 重定向 sendwalk.com 到 www.sendwalk.com
server {
    listen 80;
    server_name sendwalk.com;
    return 301 https://www.sendwalk.com$request_uri;
}
```

### **3. 启用站点**

```bash
# 创建符号链接
ln -s /etc/nginx/sites-available/sendwalk-api /etc/nginx/sites-enabled/
ln -s /etc/nginx/sites-available/sendwalk-frontend /etc/nginx/sites-enabled/

# 删除默认站点
rm -f /etc/nginx/sites-enabled/default

# 测试配置
nginx -t

# 重启 Nginx
systemctl restart nginx
```

---

## 步骤6：配置 Supervisor

Supervisor 用于管理 Laravel 调度器和 Worker 进程。

### **1. 创建调度器配置**

```bash
nano /etc/supervisor/conf.d/sendwalk-scheduler.conf
```

```ini
[program:sendwalk-scheduler]
process_name=%(program_name)s
command=/usr/bin/php /var/www/sendwalk/backend/artisan schedule:work
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
user=www-data
numprocs=1
redirect_stderr=true
stdout_logfile=/var/www/sendwalk/backend/storage/logs/scheduler.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=5
stopwaitsecs=3600
```

### **2. 创建 Worker 管理器配置**

```bash
nano /etc/supervisor/conf.d/sendwalk-worker-manager.conf
```

```ini
[program:sendwalk-worker-manager]
process_name=%(program_name)s
command=/usr/bin/php /var/www/sendwalk/backend/artisan queue:manage-workers --min=1 --max=4
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
user=www-data
numprocs=1
redirect_stderr=true
stdout_logfile=/var/www/sendwalk/backend/storage/logs/manager.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=5
stopwaitsecs=3600
```

### **3. 重新加载 Supervisor**

```bash
# 重新读取配置
supervisorctl reread

# 更新配置
supervisorctl update

# 启动所有进程
supervisorctl start all

# 查看状态
supervisorctl status

# 输出应该类似：
# sendwalk-scheduler                RUNNING   pid 12345, uptime 0:00:05
# sendwalk-worker-manager           RUNNING   pid 12346, uptime 0:00:05
```

### **4. Supervisor 常用命令**

```bash
# 查看所有进程状态
supervisorctl status

# 启动进程
supervisorctl start sendwalk-scheduler
supervisorctl start sendwalk-worker-manager

# 停止进程
supervisorctl stop sendwalk-scheduler

# 重启进程
supervisorctl restart sendwalk-scheduler

# 查看日志
supervisorctl tail -f sendwalk-scheduler

# 重新加载所有配置
supervisorctl reload
```

---

## 步骤7：SSL 证书

### **使用 Let's Encrypt 免费证书**

```bash
# 为后端 API 申请证书
certbot --nginx -d api.sendwalk.com

# 为前端申请证书
certbot --nginx -d www.sendwalk.com -d sendwalk.com

# 测试自动续期
certbot renew --dry-run
```

### **手动申请证书（可选）**

```bash
# 仅申请证书，不自动配置 Nginx
certbot certonly --nginx -d api.sendwalk.com
certbot certonly --nginx -d www.sendwalk.com -d sendwalk.com

# 然后手动在 Nginx 配置中添加 SSL 配置
```

### **证书自动续期**

Let's Encrypt 证书有效期 90 天，需要定期续期：

```bash
# Certbot 会自动创建 cron 任务
cat /etc/cron.d/certbot

# 或手动添加到 crontab
crontab -e
# 添加以下行
0 12 * * * /usr/bin/certbot renew --quiet
```

---

## 步骤8：验证部署

### **1. 检查服务状态**

```bash
# 检查 Nginx
systemctl status nginx

# 检查 PHP-FPM
systemctl status php8.3-fpm

# 检查 MySQL
systemctl status mysql

# 检查 Redis
systemctl status redis-server

# 检查 Supervisor
systemctl status supervisor
supervisorctl status
```

### **2. 测试后端 API**

```bash
# 测试健康检查
curl https://api.sendwalk.com/api/health

# 应该返回：
# {"status":"ok"}
```

### **3. 测试前端**

访问 `https://www.sendwalk.com`，应该可以看到登录页面。

### **4. 检查日志**

```bash
# 后端日志
tail -f /var/www/sendwalk/backend/storage/logs/laravel-$(date +%Y-%m-%d).log

# Scheduler 日志
tail -f /var/www/sendwalk/backend/storage/logs/scheduler.log

# Worker Manager 日志
tail -f /var/www/sendwalk/backend/storage/logs/manager.log

# Nginx 访问日志
tail -f /var/log/nginx/sendwalk-api-access.log

# Nginx 错误日志
tail -f /var/log/nginx/sendwalk-api-error.log
```

### **5. 运行系统检查脚本**

```bash
cd /var/www/sendwalk/backend
./check_cleanup_status.sh
```

---

## 故障排查

### **问题 1：502 Bad Gateway**

**原因**：PHP-FPM 未运行或 Nginx 配置错误

**解决**：

```bash
# 检查 PHP-FPM 状态
systemctl status php8.3-fpm

# 重启 PHP-FPM
systemctl restart php8.3-fpm

# 检查 Nginx 配置
nginx -t

# 查看错误日志
tail -f /var/log/nginx/error.log
```

### **问题 2：500 Internal Server Error**

**原因**：Laravel 应用错误

**解决**：

```bash
# 查看 Laravel 日志
tail -f storage/logs/laravel-$(date +%Y-%m-%d).log

# 检查权限
chown -R www-data:www-data storage bootstrap/cache
chmod -R 775 storage bootstrap/cache

# 清除缓存
php artisan config:clear
php artisan cache:clear
php artisan view:clear
```

### **问题 3：数据库连接失败**

**原因**：数据库配置错误或数据库未运行

**解决**：

```bash
# 检查 MySQL 状态
systemctl status mysql

# 测试数据库连接
mysql -u sendwalk -p
# 输入密码后应该能登录

# 检查 .env 配置
cat backend/.env | grep DB_
```

### **问题 4：Worker 不工作**

**原因**：Supervisor 配置错误或进程崩溃

**解决**：

```bash
# 查看 Supervisor 状态
supervisorctl status

# 查看 Supervisor 日志
tail -f /var/log/supervisor/supervisord.log

# 重启 Worker
supervisorctl restart sendwalk-worker-manager

# 查看 Worker 日志
tail -f storage/logs/manager.log
```

### **问题 5：前端无法访问 API**

**原因**：CORS 配置或网络问题

**解决**：

1. 检查 `backend/.env` 中的 CORS 配置：
```bash
FRONTEND_URL=https://www.sendwalk.com
SANCTUM_STATEFUL_DOMAINS=www.sendwalk.com
SESSION_DOMAIN=.sendwalk.com
```

2. 检查 `backend/config/cors.php`

3. 清除配置缓存：
```bash
php artisan config:clear
php artisan config:cache
```

---

## 安全建议

### **1. 防火墙配置**

```bash
# 只开放必要的端口
ufw allow 22/tcp   # SSH
ufw allow 80/tcp   # HTTP
ufw allow 443/tcp  # HTTPS
ufw enable

# 查看状态
ufw status
```

### **2. 禁用 root SSH 登录**

```bash
nano /etc/ssh/sshd_config

# 修改以下行
PermitRootLogin no
PasswordAuthentication no

# 重启 SSH
systemctl restart sshd
```

### **3. 配置 Fail2Ban**

```bash
# 安装
apt install -y fail2ban

# 配置
cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local
nano /etc/fail2ban/jail.local

# 启用
systemctl enable fail2ban
systemctl start fail2ban
```

### **4. 定期更新系统**

```bash
# 创建自动更新脚本
nano /root/update-system.sh
```

```bash
#!/bin/bash
apt update
apt upgrade -y
apt autoremove -y
apt autoclean
```

```bash
chmod +x /root/update-system.sh

# 添加到 crontab（每周日凌晨 3 点更新）
0 3 * * 0 /root/update-system.sh >> /var/log/system-update.log 2>&1
```

---

## 监控和维护

### **1. 服务器监控**

推荐使用：
- Uptime Robot (免费)
- New Relic
- Datadog
- Prometheus + Grafana

### **2. 日志管理**

```bash
# 配置日志轮转
nano /etc/logrotate.d/sendwalk
```

```
/var/www/sendwalk/backend/storage/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 0640 www-data www-data
    sharedscripts
}
```

### **3. 数据库备份**

```bash
# 创建备份脚本
nano /root/backup-database.sh
```

```bash
#!/bin/bash

BACKUP_DIR="/backups/mysql"
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="${BACKUP_DIR}/sendwalk_${TIMESTAMP}.sql.gz"

mkdir -p ${BACKUP_DIR}

# 备份数据库
mysqldump -u sendwalk -p'your_password' sendwalk | gzip > ${BACKUP_FILE}

# 保留最近 30 天的备份
find ${BACKUP_DIR} -name "sendwalk_*.sql.gz" -mtime +30 -delete

echo "Backup completed: ${BACKUP_FILE}"
```

```bash
chmod +x /root/backup-database.sh

# 添加到 crontab（每天凌晨 2 点备份）
0 2 * * * /root/backup-database.sh >> /var/log/db-backup.log 2>&1
```

---

## 性能优化

### **1. PHP-FPM 优化**

```bash
nano /etc/php/8.3/fpm/pool.d/www.conf
```

```ini
pm = dynamic
pm.max_children = 50
pm.start_servers = 10
pm.min_spare_servers = 5
pm.max_spare_servers = 20
pm.max_requests = 500
```

### **2. MySQL 优化**

```bash
nano /etc/mysql/mysql.conf.d/mysqld.cnf
```

```ini
[mysqld]
max_connections = 200
innodb_buffer_pool_size = 1G
innodb_log_file_size = 256M
query_cache_size = 0
query_cache_type = 0
```

### **3. Redis 优化**

```bash
nano /etc/redis/redis.conf
```

```
maxmemory 512mb
maxmemory-policy allkeys-lru
```

---

## ✅ 部署检查清单

部署完成后，使用此清单验证：

- [ ] 服务器环境配置完成
- [ ] 代码部署成功
- [ ] 数据库创建并迁移完成
- [ ] 后端配置正确（.env）
- [ ] 前端构建并部署
- [ ] Nginx 配置正确
- [ ] SSL 证书配置完成
- [ ] Supervisor 配置并运行
- [ ] 所有服务正常运行
- [ ] 日志清理任务配置
- [ ] SendLog 清理任务配置
- [ ] 前端可以访问
- [ ] 后端 API 可以访问
- [ ] 可以登录和使用功能
- [ ] Worker 正常处理任务
- [ ] 调度器正常运行
- [ ] 日志正常记录
- [ ] 数据库备份配置
- [ ] 防火墙配置
- [ ] 监控配置

---

## 🚀 总结

完成以上步骤后，SendWalk 应该已经成功部署到生产环境。主要包括：

1. ✅ 服务器环境完整配置
2. ✅ 代码部署和优化
3. ✅ Nginx 和 SSL 配置
4. ✅ Supervisor 进程管理
5. ✅ 自动化清理任务
6. ✅ 安全和监控措施
7. ✅ 备份和维护策略

如有问题，请参考故障排查部分或查看相关日志。

